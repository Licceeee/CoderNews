(this.webpackJsonpcodernews=this.webpackJsonpcodernews||[]).push([[0],{21:function(e,t,c){},26:function(e,t,c){},27:function(e,t,c){"use strict";c.r(t);var a=c(0),s=c(1),n=c.n(s),r=c(14),l=c.n(r),i=(c(21),c(8)),j=c.n(i),o=c(10),m=c(6),b=c(28),d=c(29),h=c(30),u=function(e){var t=e.getSearchInput,c=e.search,s=e.fetchData;return Object(a.jsx)(a.Fragment,{children:Object(a.jsxs)(b.a,{id:"nav",className:"col-12 md",children:[Object(a.jsx)(d.a,{className:"col-12 col-md-6 col-lg-2",children:Object(a.jsx)("a",{href:"index.html",children:Object(a.jsx)(h.a,{id:"logo",src:"/CoderNews/logo.png",rounded:!0,alt:"Logo"})})}),Object(a.jsx)(d.a,{className:"col-12 col-md-6 col-lg-3 m-3 m-sm-0",children:Object(a.jsxs)("div",{id:"search",children:[Object(a.jsx)("input",{value:c,onChange:t,onKeyDown:function(e){"Enter"===e.key&&s(c)},id:"search-bar",className:"col-11",type:"text",placeholder:"Search...",name:"searchBar"}),Object(a.jsx)("button",{id:"search-btn",variant:"secondary",size:"lg",className:"btn btn-primary",children:Object(a.jsx)("i",{id:"search-icon",className:"fas fa-search",onClick:function(){return s(c)}})})]})}),Object(a.jsx)("a",{href:"https://tornode.org",target:"_blank",rel:"noreferrer",id:"login-btn",className:"col-12 col-md-6 col-lg-3 btn btn-primary m-3 m-sm-0",children:"Get in touch"})]})})},x=c(33),O=function(e){var t=e.substring(0,4),c=e.substring(5,7),a=e.substring(8,10);return"".concat(a,".").concat(c,".").concat(t)},f=function(e){return e.substring(11,16)},g=function(e){var t=e.data,c=e.setArticleID;return Object(a.jsx)(a.Fragment,{children:Object(a.jsx)(x.a,{className:"shadow m-0 p-0 mb-md-3",children:Object(a.jsxs)(x.a.Body,{children:[Object(a.jsx)(x.a.Subtitle,{className:"mb-2 text-muted",children:Object(a.jsx)("a",{href:t.url,target:"blank_",className:"title",children:t.title})}),Object(a.jsxs)(b.a,{className:"d-flex flex-row align-items-center",children:[Object(a.jsxs)(d.a,{className:"card-span author col-12 col-md-6 col-lg-2",children:[Object(a.jsxs)("span",{className:"mr-4",children:[t.author,"  "]}),t.story_text&&Object(a.jsx)("i",{onClick:function(){c(t.objectID)},className:"custom-icon fas fa-bars ml-2",title:"author text",children:"  "}),"  "]}),Object(a.jsx)(d.a,{className:"col-12 col-md-6 col-lg-2",children:O(t.created_at)}),Object(a.jsxs)(d.a,{className:"col-12 col-md-6 col-lg-2",children:[f(t.created_at),"  ",Object(a.jsx)("i",{className:"far fa-clock"})]}),Object(a.jsx)(d.a,{className:"col-12 col-md-6 col-lg-3",children:Object(a.jsxs)("button",{className:"btn btn-outline-dark card-span",onClick:function(){c(t.objectID)},children:[0===t.comments?"0":t.num_comments," Comments "]})})]})]})})})},p=c(15),N=c.n(p),v=(c(26),c(31)),_=c(32),k=function(){return Object(a.jsx)(v.a,{children:Object(a.jsxs)(b.a,{className:"m-5 d-flex justify-content-center",children:[Object(a.jsx)("h2",{className:"center mb-3",children:"Loading ... "}),Object(a.jsx)(_.a,{animation:"grow"})]})})},y=function(e){var t=e.data,c=e.setArticleID,n=Object(s.useState)(0),r=Object(m.a)(n,2),l=r[0],i=r[1],j=10*l,o=t&&t.slice(j,j+10).map((function(e){return Object(a.jsx)(g,{data:e,setArticleID:c},e.objectID)})),h=0;t&&(h=Math.ceil(t.length/10));return t?Object(a.jsx)(v.a,{children:Object(a.jsxs)(b.a,{className:"m-5 d-flex justify-content-center",children:[o,Object(a.jsx)(d.a,{className:"col-3 mt-5",children:Object(a.jsx)(N.a,{previousLabel:Object(a.jsx)("i",{className:"fas fa-chevron-circle-left"}),nextLabel:Object(a.jsx)("i",{className:"fas fa-chevron-circle-right"}),pageCount:h,onPageChange:function(e){var t=e.selected;i(t)},containerClassName:"pagination",previousLinkClassName:"pagination__link",nextLinkClassName:"pagination__link",disabledClassName:"pagination__link--disabled",activeClassName:"pagination__link--active"})})]})}):Object(a.jsx)(k,{})},w=function(){return Object(a.jsxs)("footer",{className:"footer",children:[Object(a.jsx)("a",{className:"footer-a",href:"https://github.com/Licceeee/coderNews",children:"GitHub"}),Object(a.jsx)(d.a,{className:"text-md-right",id:"copyright",children:"2021 \xa9 Copyright: Alicia, Emeline, Tim"})]})},C=c(13),I=c(11),S=c.n(I),D=function(e){var t=e.comment;return Object(a.jsxs)(a.Fragment,{children:[Object(a.jsxs)(v.a,{className:"shadow-sm m-md-2",children:[Object(a.jsxs)(b.a,{className:"row p-md-1",children:[Object(a.jsx)(d.a,{className:"col-12 col-md-6",children:Object(a.jsxs)("p",{children:[Object(a.jsx)("b",{children:t.author})," ",Object(a.jsxs)("small",{children:["on ",f(t.created_at),Object(a.jsx)("i",{className:"far fa-clock"})]})]})}),Object(a.jsx)(d.a,{className:"col-12 col-md-6 right",children:Object(a.jsxs)("span",{className:"card-span m-md-5",children:["  ",O(t.created_at)," "]})})]}),Object(a.jsx)("p",{className:"p-0 m-0 p-md-1",dangerouslySetInnerHTML:{__html:S.a.sanitize(t.text)}})]}),t.children&&Object(a.jsx)(L,{comments:t.children})]})},L=function(e){var t=e.comments;return Object(a.jsx)(v.a,{children:t&&t.map((function(e){return e.text&&Object(a.jsx)(D,{comment:e},e.id)}))})},E=function(e){var t=e.title,c=e.url,s=e.author,n=e.created_at,r=e.text,l=e.children;return Object(a.jsx)(a.Fragment,{children:Object(a.jsx)(x.a,{className:"mb-3 pt-3 ",children:Object(a.jsxs)(x.a.Body,{children:[Object(a.jsx)(x.a.Subtitle,{className:"mb-2 text-muted",children:Object(a.jsx)("a",{href:c,target:"blank_",className:"title pr-5",children:t})}),Object(a.jsxs)("span",{className:"card-span m-0 m-md-3 col-12 col-md-6 col-lg-2",children:[s," "]}),Object(a.jsxs)("span",{className:"card-span m-0 m-md-3 col-12 col-md-6 col-lg-2",children:[" ",n&&O(n),"  "]}),Object(a.jsxs)("span",{className:"card-span m-0 m-md-3 col-12 col-md-6 col-lg-2",children:[" ",n&&f(n),Object(a.jsx)("i",{className:"far fa-clock"})]}),Object(a.jsxs)("span",{className:"card-span m-0 m-md-3 col-12 col-md-6 col-lg-2",children:[" ",l?l.length:0," Comments  "]}),r?Object(a.jsx)("p",{dangerouslySetInnerHTML:{__html:S.a.sanitize(r)}}):Object(a.jsx)("h6",{className:"my-5",children:Object(a.jsx)("a",{href:c,children:c})}),Object(a.jsx)("hr",{}),Object(a.jsx)("h4",{children:"Comments"}),l&&Object(a.jsx)(L,{comments:l})]})})})},F=function(e){var t=e.articleID,c=Object(s.useState)({}),n=Object(m.a)(c,2),r=n[0],l=n[1],i=Object(s.useState)(!0),d=Object(m.a)(i,2),h=d[0],u=d[1];return Object(s.useEffect)((function(){(function(){var e=Object(o.a)(j.a.mark((function e(){var c,a,s;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return u(!0),c="https://hn.algolia.com/api/v1/items/".concat(t),e.prev=2,e.next=5,fetch(c);case 5:return a=e.sent,e.next=8,a.json();case 8:s=e.sent,u(!1),l(Object(C.a)({},s)),e.next=17;break;case 13:e.prev=13,e.t0=e.catch(2),u(!1),console.log(e.t0.message);case 17:case"end":return e.stop()}}),e,null,[[2,13]])})));return function(){return e.apply(this,arguments)}})()()}),[t]),Object(a.jsx)(v.a,{children:Object(a.jsx)(b.a,{className:"m-5 d-flex justify-content-center",children:h?Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)("h2",{className:"center mb-3",children:"Loading ... "}),Object(a.jsx)(_.a,{animation:"grow"})]}):Object(a.jsx)(E,Object(C.a)({},r))})})},A=function(e){var t=e.msg;return Object(a.jsx)(v.a,{children:Object(a.jsx)(b.a,{className:"m-5 d-flex justify-content-center",children:Object(a.jsxs)("h2",{className:"center mb-3",children:[" ",t," "]})})})};var P=function(){var e=Object(s.useState)(),t=Object(m.a)(e,2),c=t[0],n=t[1],r=Object(s.useState)(""),l=Object(m.a)(r,2),i=l[0],b=l[1],d=Object(s.useState)(),h=Object(m.a)(d,2),x=h[0],O=h[1],f=Object(s.useState)(!1),g=Object(m.a)(f,2),p=g[0],N=g[1],v=Object(s.useState)(!1),_=Object(m.a)(v,2),C=_[0],I=_[1],S=Object(s.useRef)((function(){}));return S.current=function(){var e=Object(o.a)(j.a.mark((function e(t){var c,a,s;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return N(!0),O(),c="",c=t?"https://hn.algolia.com/api/v1/search_by_date?query=".concat(i,"&tags=story&hitsPerPage=100"):"https://hn.algolia.com/api/v1/search_by_date?tags=front_page&hitsPerPage=100",e.prev=4,e.next=7,fetch(c);case 7:if(!(a=e.sent).ok){e.next=17;break}return e.next=11,a.json();case 11:s=e.sent,N(!1),0===s.hits.length?I(!0):I(!1),s&&n(s.hits),e.next=18;break;case 17:throw new Error("Request failed!");case 18:e.next=23;break;case 20:e.prev=20,e.t0=e.catch(4),console.log(e.t0);case 23:case"end":return e.stop()}}),e,null,[[4,20]])})));return function(t){return e.apply(this,arguments)}}(),Object(s.useEffect)((function(){S.current();var e=setInterval((function(){S.current()}),3e5);return function(){return clearInterval(e)}}),[]),Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)(u,{getSearchInput:function(e){var t=e.target;b(t.value)},search:i,fetchData:S.current}),p?Object(a.jsx)(k,{}):C?Object(a.jsx)(A,{msg:"No matching entries ... "}):x?Object(a.jsx)(F,{articleID:x}):Object(a.jsx)(y,{data:c,setArticleID:O}),Object(a.jsx)(w,{})]})};l.a.render(Object(a.jsx)(n.a.StrictMode,{children:Object(a.jsx)(P,{})}),document.getElementById("root"))}},[[27,1,2]]]);
//# sourceMappingURL=main.6b37cb8e.chunk.js.map